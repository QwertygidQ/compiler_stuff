QProc

Big-endian

Word size - 4 bytes = 32 bits

Data stack (DS) - std::stack<int32_t>
Instruction stack (IS) - std::stack<size_t>
Instruction pointer (IP) - size_t
Program memory (PM) - int32_t[1024] (1024 instructions max) (4 kiB = 4096 bytes)

OPs:
NOP    (0x00000000) - do nothing
ADD    (0x00000001) - pop Y, pop X, push X + Y
SUB    (0x00000002) - pop Y, pop X, push X - Y
NEG    (0x00000003) - pop X, negate X
SHL    (0x00000004) - pop Y, pop X, X is shifted to the left by Y bits (non-circular, padding - 0)
SHR    (0x00000005) - pop Y, pop X, X is shifted to the right by Y bits (non-circular, padding - MSB)
AND    (0x00000006) - pop Y, pop X, push X AND Y
OR     (0x00000007) - pop Y, pop X, push X OR Y
XOR    (0x00000008) - pop Y, pop X, push X XOR Y
NOT    (0x00000009) - pop X, push NOT X
JMP    (0x0000000A) - pop X, set IP to X
JZ     (0x0000000B) - pop Y, pop X, if X == 0, set IP to Y
JNZ    (0x0000000C) - pop Y, pop X, if X != 0, set IP to Y
PUSH   (0x0000000D) - push next PM instruction and skip it
RM     (0x0000000E) - remove DS top
PUSHIP (0x0000000F) - push IP onto IS
POPIP  (0x00000010) - pop X from IS, set IP to X
RMIP   (0x00000011) - remove IS top
PUSHPM (0x00000012) - pop X, push PM[X]
POPPM  (0x00000013) - pop Y, pop X, write Y to PM[X]
INPUT  (0x00000014) - push word of input
PEEK   (0x00000015) - output DS top
HALT   (0x00000016) - stop execution
